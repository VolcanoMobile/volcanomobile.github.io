var jqueryMusicMidiChannelsConfigChannelCc=function(b){this.vars={value:0};var a=this;
this.construct=function(c){$.extend(this.vars,c)};this.getCcValue=function(){return this.vars.value
};this.setValue=function(c){this.vars.value=c};this.serialize=function(){return JSON.stringify(a)
};this.construct(b)};var jqueryMusicMidiChannelsConfigChannelsLayout=function(f){var h={id:null,classePrefix:"jcc",channelsChannelMuteClass:"channels-channel-mute",notes:[36,38,39,50,47,43,42,46,51],notesText:(typeof gmStringDrumNotes==="undefined")?null:gmStringDrumNotes,notesTextShort:(typeof gmStringDrumNotesShort==="undefined")?null:gmStringDrumNotesShort,channelsConfig:null,onChannelClickCallback:null};
var d=this;var a=null;var e=null;var g=null;var c=null;var b=null;this.construct=function(i){$.extend(h,i);
if(h.notesText==null){h.notesText=new Array()}if(h.notesTextShort==null){h.notesTextShort=new Array()
}this.rootElement=$("#"+h.id+"");this.createMainLayout()};this.valuesChanged=function(){if(h.callbackValuesChanged!=null){h.callbackValuesChanged(h)
}};this.createMainLayout=function(){this.mainLayout=$("<div/>",{id:h.id+"-main-layout","class":h.classePrefix+"-main-layout"}).appendTo(this.rootElement);
this.createContentLayout()};this.createContentLayout=function(){this.contentLayout=$("<div/>",{id:h.id+"-content-layout","class":h.classePrefix+"-content-layout"}).appendTo(this.mainLayout);
this.createChannelsLayout()};this.createChannelsLayout=function(){this.channelsLayout=$("<div/>",{id:h.id+"-channels-layout",style:"display: inline;","class":h.classePrefix+"-channels-layout btn-group"}).appendTo(this.contentLayout);
this.createChannelsLayouts()};this.createChannelsLayouts=function(){this.channelsLayout.html("");
for(var i=0;i<h.channelsConfig.getNumberOfChannels();i++){this.createChannelLayout(i)
}};this.createChannelLayout=function(i){var j=h.channelsConfig.getChannel(i);var m=$("<div/>",{id:h.id+"-channels-channel-"+i,"class":h.classePrefix+"-channels-channel btn btn-primary"}).click(function(){h.onChannelClickCallback(i)
});var k=$("<div/>",{"class":h.classePrefix+"-channels-channel-content"});m.append(k);
var l=$("<span/>",{"class":h.classePrefix+"-channels-channel-label"}).html("Channel "+i);
k.append(l);this.channelsLayout.append(m);this.refreshChannelState(i)};this.refreshChannelsState=function(){for(var i=0;
i<h.channelsConfig.getChannelsCount();i++){this.refreshChannelState(i)}};this.refreshChannelState=function(k){var o=h.channelsConfig.getChannel(k);
var j=(k+1);var n="Channel "+k;var p=h.id+"-channels-channel-"+k;var i=this.channelsLayout.find("#"+p);
i.attr("title",n);var m=h.classePrefix+"-channels-channel-label";var l=i.find("."+m);
l.html(j)};this.getId=function(){return h.id};this.setChannelsConfig=function(i){h.channelsConfig=i;
this.createChannelsLayouts()};this.construct(f)};var jqueryMusicMidiChannelsConfig=function(b){this.vars={numberOfChannels:16,channels:null,enableControlChanges:[7,10,11],callbackValuesChanged:null};
var a=this;this.construct=function(c){$.extend(this.vars,c);this.initChannels()};
this.valuesChanged=function(){if(this.vars.callbackValuesChanged!=null){this.vars.callbackValuesChanged(this.vars)
}};this.initChannels=function(){this.vars.channels=new Array();for(var c=0;c<this.vars.numberOfChannels;
c++){this.vars.channels[c]=new jqueryMusicMidiChannelsConfigChannel()}};this.getNumberOfChannels=function(){return this.vars.numberOfChannels
};this.setNumberOfChannels=function(c){this.vars.numberOfChannels=c};this.getChannel=function(c){return this.vars.channels[c]
};this.getEnableControlChanges=function(){return this.vars.enableControlChanges};
this.getEnableControlChangesCount=function(){return this.vars.enableControlChanges.length
};this.getEnableControlChange=function(c){return this.vars.enableControlChanges[c]
};this.getEnableCcFromCcNumber=function(c){return this.vars.enableControlChanges.indexOf(c)
};this.enableControlChange=function(d,c){if(c){if(this.vars.enableControlChanges.indexOf(d)<0){this.vars.enableControlChanges.push(d);
this.vars.enableControlChanges.sort(function(f,e){return f-e})}}else{this.vars.enableControlChanges.remove(d)
}};this.getChannels=function(){return this.vars.channels};this.getChannelsCount=function(){return this.vars.channels.length
};this.getChannel=function(c){return this.vars.channels[c]};this.setCallbackValuesChanged=function(c){this.vars.callbackValuesChanged=c
};this.serialize=function(){return JSON.stringify(a)};this.serialize=function(){return JSON.stringify(a)
};this.fixDeserialize=function(){for(var d=0;d<this.vars.numberOfChannels;d++){if(this.vars.channels[d]){var e=this.vars.channels[d];
var c=new jqueryMusicMidiChannelsConfigChannel();this.vars.channels[d]=Object.assign(c,e);
this.vars.channels[d].fixDeserialize()}}};this.construct(b)};var jqueryMusicMidiChannelsConfigChannel=function(b){this.vars={programNumber:0,controlChanges:new Array(),notesType:jqueryMusicMidiChannelsConfigChannel.NOTES_TYPES_NOTE,changed:null};
var a=this;this.construct=function(c){$.extend(this.vars,c);this.initControlChanges()
};this.valuesChanged=function(){if(this.vars.changed!=null){this.vars.changed(this.vars)
}};this.getNotesType=function(){return this.vars.notesType};this.setNotesType=function(c){this.vars.notesType=c
};this.getProgramNumber=function(){return this.vars.programNumber};this.setProgramNumber=function(c){this.vars.programNumber=c
};this.initControlChanges=function(){this.vars.controlChanges=new Array();for(var c=0;
c<128;c++){this.vars.controlChanges[c]=new jqueryMusicMidiChannelsConfigChannelCc()
}this.vars.controlChanges[7].setValue(127);this.vars.controlChanges[10].setValue(64);
this.vars.controlChanges[11].setValue(127)};this.getCcCount=function(){if(this.vars.controlChanges==null){this.initControlChanges()
}return this.vars.controlChanges.length};this.getCc=function(c){return this.vars.controlChanges[c]
};this.addEvent=function(c){if(this.vars.events==null){this.vars.events=[]}var d={noteValue:36,velocity:127,onChange:null};
$.extend(d,c);this.vars.events[this.vars.events.length]=new jqueryMusicMidiChannelsConfigChannelCc(d)
};this.deleteEvent=function(c){if(this.vars.events==null){this.vars.events=[]}this.vars.events.splice(c,1)
};this.setChanged=function(c){this.vars.changed=c};this.serialize=function(){return JSON.stringify(a)
};this.fixDeserialize=function(){if(this.vars.controlChanges){for(var d=0;d<this.vars.controlChanges.length;
d++){if(this.vars.controlChanges[d]){var e=this.vars.controlChanges[d];var c=new jqueryMusicMidiChannelsConfigChannelCc();
this.vars.controlChanges[d]=Object.assign(c,e)}}}};this.construct(b)};jqueryMusicMidiChannelsConfigChannel.NOTES_TYPES_NOTE=0;
jqueryMusicMidiChannelsConfigChannel.NOTES_TYPES_DRUM=1;var jqueryMusicMidiChannelsConfigChannelSettingsLayout=function(e){var h={id:null,classePrefix:"jcc",channelIndex:0,notes:[36,38,39,50,47,43,42,46,51],controlChangesText:(typeof gmStringsControlChanges==="undefined")?null:gmStringsControlChanges,programsText:(typeof gmStringsPrograms==="undefined")?null:gmStringsPrograms,drumProgramsText:(typeof gmStringsDrumPrograms==="undefined")?null:gmStringsDrumPrograms,channelsConfig:null,onNotesTypeChange:null,onProgramChange:null,onAddCc:null,onCcValueChange:null};
var c=this;var a=null;var g=null;var b=null;var d=null;var f=null;this.construct=function(i){$.extend(h,i);
if(h.notesText==null){h.notesText=new Array()}if(h.notesTextShort==null){h.notesTextShort=new Array()
}this.rootElement=$("#"+h.id+"");this.createLayout()};this.valuesChanged=function(){if(h.callbackValuesChanged!=null){h.callbackValuesChanged(h)
}};this.createLayout=function(){$.ajax({url:"./channel_settings.html",dataType:"html",cache:false,success:function(i){c.rootElement.html(i);
c.initLayout()}})};this.initLayout=function(){this.ccTemplateHtml=this.rootElement.find(".controllers-cc-template").html();
this.controllersLayout=this.rootElement.find(".controllers-layout");$("#"+h.id+" .addPadEvent").click(function(){if(h.onAddPadEvent){h.onAddPadEvent(h.channelIndex,h.columnIndex)
}});this.refreshChannelValues();this.initTypeInput();this.initProgramInput();this.initCcLayouts();
this.initAddCcLayouts()};this.refreshChannelValues=function(){var j=this.rootElement.find(".channelSettingsTitle");
var i=h.channelsConfig.getChannel(h.channelIndex);j.html("Channel "+(h.channelIndex+1))
};this.initTypeInput=function(){var j=c.rootElement.find(".notesTypeSelect");for(var i=0;
i<2;i++){j.append(jQuery("<option/>").val(parseInt(i)).html(i==jqueryMusicMidiChannelsConfigChannel.NOTES_TYPES_NOTE?"Notes":"Drum"))
}j.change(function(){if(h.onNotesTypeChange!=null){h.onNotesTypeChange(h.channelIndex,jQuery(this).val())
}});this.refreshTypeInputValue()};this.refreshTypeInputValue=function(){var j=h.channelsConfig.getChannel(h.channelIndex);
if(j){if(j.getProgramNumber()){var i=this.rootElement.find(".notesTypeSelect");i.val(j.getNotesType())
}}};this.initProgramInput=function(){var k=h.channelsConfig.getChannel(h.channelIndex);
var l=c.rootElement.find(".programSelect");l.html("");for(var j=0;j<128;j++){var i=""+(j+1);
if(k.getNotesType()==jqueryMusicMidiChannelsConfigChannel.NOTES_TYPES_DRUM){if(j<h.drumProgramsText.length){i+=" "+h.drumProgramsText[j]
}}else{i+=". "+h.programsText[j]}l.append(jQuery("<option/>").val(parseInt(j)).html(i))
}l.change(function(){if(h.onProgramChange!=null){h.onProgramChange(h.channelIndex,jQuery(this).val())
}});this.refreshProgramInputValue()};this.refreshProgramInputValue=function(){var i=h.channelsConfig.getChannel(h.channelIndex);
if(i){if(i.getProgramNumber()){var j=this.rootElement.find(".programSelect");j.val(i.getProgramNumber())
}}};this.initCcLayouts=function(){var l=this.rootElement.find(".controllers-debug");
l.html("");if(this.controllersLayout!=null){this.controllersLayout.html("");var k=h.channelsConfig.getChannel(h.channelIndex);
var m=h.channelsConfig.getEnableControlChanges();for(var n=0;n<m.length;n++){var j=m[n];
var i=k.getCc(j);this.createCcLayout(j,this.controllersLayout)}}};this.createCcLayout=function(l,i){var m=h.channelsConfig.getChannel(h.channelIndex);
var j=m.getCc(l);var k=jQuery(this.ccTemplateHtml);i.append(k);var n=k.find(".valueRange");
n.on("input",function(){$(this).trigger("change")});n.change(function(){if(h.onCcValueChange!=null){h.onCcValueChange(h.channelIndex,l,jQuery(this).val())
}c.refreshCcLabels(l,i)});this.refreshCcLabels(l,i);this.refreshCcInputValue(l,i)
};this.refreshCcLabels=function(m){if(this.controllersLayout){var n=h.channelsConfig.getChannel(h.channelIndex);
var j=n.getCc(m);var i=channelsConfig.getEnableCcFromCcNumber(m);var l=this.controllersLayout.children().eq(i);
var k=l.find(".ccLabel");k.html(""+m+". "+h.controlChangesText[m]);var o=l.find(".ccValue");
o.html(""+j.getCcValue())}else{console.log("jqueryMusicMidiChannelsConfigLayout::refreshCcLabels() ERROR no parent element... ccNumber: ",m)
}};this.refreshCcInputValue=function(l){var m=h.channelsConfig.getChannel(h.channelIndex);
var j=m.getCc(l);var i=channelsConfig.getEnableCcFromCcNumber(l);var k=this.controllersLayout.children().eq(i);
var n=k.find(".valueRange");n.val(j.getCcValue())};this.initAddCcLayouts=function(){var j=c.rootElement.find(".addCcSelectCc");
for(var i=0;i<128;i++){j.append(jQuery("<option/>").val(parseInt(i)).html(""+i+". "+h.controlChangesText[i]))
}var k=this.rootElement.find(".addCcButton");k.click(function(){var l=c.rootElement.find(".addCcSelectCc");
if(h.onAddCc!=null){h.onAddCc(l.val())}})};this.setChannelIndex=function(i){h.channelIndex=i;
this.refreshChannelValues();this.refreshTypeInputValue();this.initProgramInput();
this.initCcLayouts()};this.setChannelsConfig=function(i){h.channelsConfig=i;this.refreshChannelValues();
this.refreshTypeInputValue();this.refreshProgramInputValue();this.initCcLayouts()
};this.construct(e)};var jqueryMusicMidiChannelsConfigSettingsLayout=function(d){var f={id:null,classePrefix:"jdc",notes:[36,38,39,50,47,43,42,46,51],notesText:(typeof jqueryMusicMidiSimpleDrumNoteNames==="undefined")?null:jqueryMusicMidiSimpleDrumNoteNames,notesTextShort:(typeof jqueryMusicMidiSimpleDrumNoteNamesShort==="undefined")?null:jqueryMusicMidiSimpleDrumNoteNamesShort,channelsConfig:null,onNumberOfChannelsChange:null};
var c=this;var a=null;var e=null;var b=null;this.construct=function(g){$.extend(f,g);
if(f.notesText==null){f.notesText=new Array()}if(f.notesTextShort==null){f.notesTextShort=new Array()
}this.rootElement=$("#"+f.id+"");this.createLayout()};this.valuesChanged=function(){if(f.callbackValuesChanged!=null){f.callbackValuesChanged(f)
}};this.createLayout=function(){$.ajax({url:"./settings.html",dataType:"html",cache:false,success:function(g){c.rootElement.html(g);
c.initInputs()}})};this.initInputs=function(){var h=this.rootElement.find("#rowValueText");
var g=this.rootElement.find("#numberOfChannelsDecreaseButton");g.click(function(){var j=f.channelsConfig.getNumberOfChannels()-1;
if(f.onNumberOfChannelsChange){f.onNumberOfChannelsChange(j)}c.refreshRowsValues()
});var i=this.rootElement.find("#numberOfChannelsIncreaseButton");i.click(function(){var j=f.channelsConfig.getNumberOfChannels()+1;
if(f.onNumberOfChannelsChange){f.onNumberOfChannelsChange(j)}c.refreshRowsValues()
});this.refreshInputsValues()};this.refreshInputsValues=function(){this.refreshRowsValues()
};this.refreshRowsValues=function(){var g=this.rootElement.find("#rowValueText");
g.html(f.channelsConfig.getNumberOfChannels())};this.getId=function(){return f.id
};this.setChannelsConfig=function(g){f.channelsConfig=g;this.refreshInputsValues()
};this.construct(d)};var channelsConfig;var channelsConfigLayout;var channelsConfigSettingsLayout;var channelsConfigChannelSettingsLayout;
var myMidiAccessApi;jQuery(document).ready(function(){createDefaultProject();loadJsonUrlchannelsConfig("./catalog/default.json");
channelsConfigLayout=new jqueryMusicMidiChannelsConfigChannelsLayout({id:"channelsConfigLayout",channelsConfig:channelsConfig,onChannelClickCallback:function(a){showPadSettingsLayout(a)
}});channelsConfigSettingsLayout=new jqueryMusicMidiChannelsConfigSettingsLayout({id:"settingsLayout",channelsConfig:channelsConfig,onNumberOfChannelsChange:function(a){channelsConfig.setNumberOfChannels(a);
channelsConfigLayout.setChannelsConfig(channelsConfig,false,false)}});channelsConfigChannelSettingsLayout=new jqueryMusicMidiChannelsConfigChannelSettingsLayout({id:"channelSettingsLayout",channelsConfig:channelsConfig,onNotesTypeChange:function(c,a){var b=channelsConfig.getChannel(c);
b.setNotesType(a);channelsConfigChannelSettingsLayout.initProgramInput()},onProgramChange:function(c,a){var b=channelsConfig.getChannel(c);
b.setProgramNumber(a);sendProgramChange(c,a)},onCcValueChange:function(e,b,d){var c=channelsConfig.getChannel(e);
var a=c.getCc(b);a.setValue(d);channelsConfigChannelSettingsLayout.refreshCcLabels(b);
sendControlChange(e,b,d)},onAddCc:function(a){channelsConfig.enableControlChange(a,true);
channelsConfigChannelSettingsLayout.initCcLayouts()}});myMidiAccessApi=new jMidiAccessApi({initCallback:function(a){jQuery("#midiNotSupported").css("display",a.midiSupported?"none":"block");
if(a.midiSupported){devicesChanged(a)}},onRequestMidiAccessSuccess:function(a){jQuery("#requestMidiAccessSuccess").css("display","inline-block");
jQuery("#requestMidiAccessSuccess").delay(3000).fadeOut();if(a.midiSupported){if(a.midiAccess!=null&&a.midiAccess.outputs!=null){if(typeof a.midiAccess.outputs[Symbol.iterator]==="function"){a.midiAccess.outputs.forEach(function(c,b){myMidiAccessApi.connectOutputPortByName(c.name)
})}}devicesChanged(a)}},onRequestMIDIAccessFailure:function(){jQuery("#requestMIDIAccessFailure").css("display","inline-block");
jQuery("#requestMIDIAccessFailure").delay(3000).fadeOut()},deviceStateChangeCallback:function(a,b){devicesChanged(b)
},portConnectedCallback:function(a,b){devicesChanged(b)},portDisconnectedCallback:function(a,b){devicesChanged(b)
},receiveCallback:function(a){myMidiAccessApi.send(a)}});jQuery("#buttonStart").click(function(){myMidiClockPlayer.start()
});jQuery("#buttonContinue").click(function(){myMidiClockPlayer.continue_()});jQuery("#buttonStop").click(function(){myMidiClockPlayer.stop()
});jQuery("#bpmRange").on("input",function(){jQuery(this).trigger("change")});jQuery("#bpmRange").change(function(){myMidiClockPlayer.setBpm(jQuery(this).val()*2)
});$(window).keypress(function(a){if(a.which===32){if(myMidiClock.isStarted()){myMidiClockPlayer.stop()
}else{myMidiClockPlayer.continue_()}}else{if(a.which===13){if(myMidiClock.isStarted()){myMidiClockPlayer.stop()
}else{myMidiClockPlayer.start()}}else{if(a.which===43){myMidiClockPlayer.setBpm(myMidiClockPlayer.getBpm()+1)
}else{if(a.which===45){myMidiClockPlayer.setBpm(myMidiClockPlayer.getBpm()-1)}}}}});
jQuery("#newProjectButton").click(function(){createDefaultProject()});jQuery("#catalogButton").click(function(){loadCatalogLayout()
});jQuery("#sendButton").click(function(){sendMidiChannelsConfig();$.toast({text:"<span class='fa fa-check'></span> MIDI Config sent",hideAfter:1000,showHideTransition:"fade",position:"top-center",loader:false,bgColor:"#28a745"})
});jQuery("#serializeButton").click(function(){download("the_file.json",channelsConfig.serialize())
});jQuery(".toggleMidiPanelButton").click(function(){jQuery("#midiPanel").slideToggle()
});jQuery(".toggleChannelsConfigSettingsPanelButton").click(function(){jQuery("#controlerSettingsPanel").slideToggle()
});jQuery(".toogleOpenFilePanel").click(function(){jQuery("#openFilePanel").slideToggle()
});setupCatalogLayout()});function devicesChanged(a){listMidiInputDevices(a.midiAccess);
listMidiOutputDevices(a.midiAccess)}function listMidiInputDevices(a){var b=jQuery("#midiInputs");
b.html("");if(a!=null&&a.inputs!=null){a.inputs.forEach(function(c,e){var d="";d+=""+(c.onmidimessage?"<span class='fa fa-check text-success'></span>":"<span class='fa fa-plug'></span>")+" ";
d+=c.name;d+=" <small>("+c.id+")</small>";b.append(jQuery("<button/>",{inputPortName:c.name,portConnected:c.onmidimessage?1:0,"class":"list-group-item  list-group-item-action"}).append(jQuery("<div/>",{}).html(d)).click(function(){var f=jQuery(this).attr("inputPortName");
if(parseInt(jQuery(this).attr("portConnected"))){myMidiAccessApi.unbindInputPortByName(f)
}else{myMidiAccessApi.bindInputPortByName(f)}}))})}}function listMidiOutputDevices(a){var b=jQuery("#midiOutputs");
b.html("");if(a!=null&&a.outputs!=null){if(typeof a.outputs[Symbol.iterator]==="function"){a.outputs.forEach(function(e,d){var c="";
c+=""+(myMidiAccessApi.isOutputConnectedById(e.id)?"<span class='fa fa-check text-success'></span>":"<span class='fa fa-plug'></span>")+" ";
c+=e.name;c+=" <small>("+e.id+")</small>";b.append(jQuery("<button/>",{"class":"list-group-item list-group-item-action",outputPortName:e.name,portConnected:myMidiAccessApi.isOutputConnectedById(e.id)?1:0}).html(c).click(function(){var f=jQuery(this).attr("outputPortName");
if(parseInt(jQuery(this).attr("portConnected"))){myMidiAccessApi.disconnectOutputPortByName(f)
}else{myMidiAccessApi.connectOutputPortByName(f)}}))})}}}function download(a,c){var b=document.createElement("a");
b.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(c));b.setAttribute("download",a);
b.style.display="none";document.body.appendChild(b);b.click();document.body.removeChild(b)
}function setupCatalogLayout(){jQuery("#catalogLayout").click(function(){jQuery(this).css("display","none")
});jQuery("#catalogLayout > *").click(function(){return false})}function loadCatalogLayout(){var b=jQuery("#catalogLayout");
b.css("display","block");var a=jQuery("#catalogProjectsLayout");a.html("");$.ajax({url:"./catalog/catalog.json",dataType:"json",cache:false,success:function(c){c.projects.forEach(function(e,d){a.append(jQuery("<button/>",{"class":"list-group-item list-group-item-action",filename:e.filename}).html(e.name).click(function(){var f=jQuery(this).attr("filename");
loadJsonUrlchannelsConfig("./catalog/"+f)}))})}})}function createDefaultProject(){channelsConfig=new jqueryMusicMidiChannelsConfig();
channelsConfigLoaded()}function loadJsonStringChannelsConfig(b){var a=JSON.parse(b);
var c=new jqueryMusicMidiChannelsConfig();channelsConfig=Object.assign(c,a);channelsConfigLoaded()
}function channelsConfigLoaded(){channelsConfig.fixDeserialize();addChannelsConfigListeners();
if(channelsConfigLayout!=null){channelsConfigLayout.setChannelsConfig(channelsConfig,true,true)
}if(channelsConfigSettingsLayout!=null){channelsConfigSettingsLayout.setChannelsConfig(channelsConfig,true,true)
}if(channelsConfigChannelSettingsLayout!=null){channelsConfigChannelSettingsLayout.setChannelsConfig(channelsConfig,true,true)
}}function loadJsonUrlchannelsConfig(a){jQuery.ajax({url:a,dataType:"text",cache:false,success:function(b){loadJsonStringChannelsConfig(b)
}})}function addChannelsConfigListeners(){channelsConfig.setCallbackValuesChanged(function(a){console.log("index callbackValuesChanged vars: "+a)
})}$("#jsonInputFile").on("change",function(){var a=new FileReader();a.onload=function(){var b=a.result;
loadJsonStringChannelsConfig(b)};a.readAsText($("#jsonInputFile").prop("files")[0])
});function showPadSettingsLayout(a){channelsConfigChannelSettingsLayout.setChannelIndex(a);
if(jQuery("#padSettingsPanel").css("display")=="none"){jQuery("#padSettingsPanel").slideToggle()
}}function sendMidiChannelsConfig(){for(var b=0;b<channelsConfig.getChannelsCount();
b++){var e=channelsConfig.getChannel(b);sendProgramChange(b,e.getProgramNumber());
for(var d=0;d<channelsConfig.getEnableControlChangesCount();d++){var c=channelsConfig.getEnableControlChange(d);
var a=e.getCc(c);sendControlChange(b,c,a.getCcValue())}}}function sendControlChange(b,c){var d=channelsConfig.getChannel(channelNumber);
var a=d.getCc(ccNumber);sendControlChange(b,c,a.getValue())}function sendControlChange(a,b,c){myMidiAccessApi.send({receivedTime:window.performance.now(),data:[176+(0+a),0+b,0+c]})
}function sendProgramChange(a,b){myMidiAccessApi.send({receivedTime:window.performance.now(),data:[192+(0+a),0+b]})
};